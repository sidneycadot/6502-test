
# This Makefile allows (most of) the TIC test program to be compiled with GCC.
# While this does not give us a usable program, we do benefit from GCC's warnings
# that are much better than those generated by CC65.

CFLAGS = -W -Wall -O3
CPPFLAGS = -DTIC_PLATFORM_GCC

TIC_OBJS = target_gcc_specific_gcc.o      \
           timing_test_measurement_gcc.o  \
           timing_test_routines_gcc.o     \
           tic_cmd_measurement_test_gcc.o \
           tic_cmd_cpu_test_gcc.o         \
           timing_test_memory_gcc.o       \
           tic_main_gcc.o

tic_gcc : $(TIC_OBJS)
	$(CC) $(LDFLAGS) $^ -o $@

%_gcc.o : %.c
	$(CC) -c $(CPPFLAGS) $(CFLAGS) $< -o $@

clean :
	$(RM) *_gcc.o tic_gcc
